{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Alfredo\\\\Desktop\\\\front-end utils\\\\progetti\\\\SiciliaNaturalmenteApp\\\\screens\\\\DetailsScreen2.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { Header } from 'react-native-elements';\nimport { AntDesign } from '@expo/vector-icons';\nimport Heart from \"../assets/heart\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport * as cartActions from \"../store/actions/cart\";\nimport * as userActions from \"../store/actions/user\";\nimport { SimpleLineIcons } from '@expo/vector-icons';\nimport globalStyles from \"../Style\";\nimport CustomModal from \"../components/CustomModal\";\nimport PastaDetails from \"../components/Pasta/PastaDetails\";\nimport BoxDetails from \"../components/Box/BoxDetails\";\nimport { images } from \"../data/dummy-data\";\nimport { StatusBar } from 'expo-status-bar';\nimport ErrorModal from \"../components/authComponents/ErrorModal\";\nimport { Badge, Icon, withBadge } from 'react-native-elements';\n\nvar ProductDetails2 = function ProductDetails2(_ref) {\n  var _selectedProduct;\n\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var selectedProduct = {};\n  var isFavourite = false;\n  var products = useSelector(function (state) {\n    return state.products.availableProducts;\n  });\n  var isAuth = useSelector(function (state) {\n    return state.user.isAuthenticated;\n  });\n  var favourites = useSelector(function (state) {\n    var _state$user, _state$user$user;\n\n    return (_state$user = state.user) == null ? void 0 : (_state$user$user = _state$user.user) == null ? void 0 : _state$user$user.favoriti;\n  });\n  var email = useSelector(function (state) {\n    return state.user.user;\n  });\n  console.log(email, ' OK');\n  var productId = route.params;\n  var dispatch = useDispatch();\n\n  var _useState = useState(1),\n      _useState2 = _slicedToArray(_useState, 2),\n      quantity = _useState2[0],\n      setQuantity = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      customText = _useState4[0],\n      setCustomText = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      showModal = _useState6[0],\n      setShowModal = _useState6[1];\n\n  var badgeCount = useSelector(function (state) {\n    return state.cart.totalQuantity;\n  });\n\n  if (products) {\n    selectedProduct = products.find(function (product) {\n      return product.idProdotto === productId.itemId;\n    });\n  }\n\n  if (products && isAuth && favourites) {\n    isFavourite = favourites.filter(function (product) {\n      return product.titolo === selectedProduct.titolo;\n    }).length > 0;\n  }\n\n  var boxLayout = null;\n\n  if (((_selectedProduct = selectedProduct) == null ? void 0 : _selectedProduct.formato) === 'SCATOLA') {\n    boxLayout = selectedProduct.contenuto.map(function (prod, i) {\n      return console.log(prod, ' in map');\n    });\n  }\n\n  var addTofavourite = function addTofavourite(email, title, isDelete) {\n    return _regeneratorRuntime.async(function addTofavourite$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (isAuth) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Alert.alert('Funzione non accessibile', 'Devi autenticarti per accedere a questa funzione!', [{\n              text: 'OK',\n              onPress: function onPress() {\n                return navigation.navigate('Account');\n              },\n              style: 'cancel'\n            }]));\n\n          case 2:\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(dispatch(userActions.updateFavourite(email, title, isDelete)));\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var itsHealthy = false;\n  selectedProduct.formato !== 'PRODOTTI' && (itsHealthy = selectedProduct.grano === 'Perciasacchi' ? true : false);\n\n  var onAddTocart = function onAddTocart() {\n    setShowModal(true);\n    dispatch(cartActions.addToCart(selectedProduct, quantity));\n    setTimeout(function () {\n      return setShowModal(false);\n    }, 2000);\n  };\n\n  var validateQuantity = function validateQuantity(type) {\n    if (quantity === 1 && type === 'meno') {\n      setCustomText({\n        status: 'custom',\n        id: 'Non consentito',\n        msg: 'just no'\n      });\n    } else if (type === 'meno' && quantity >= 1 || quantity == selectedProduct.quantita) {\n      setQuantity(quantity - 1);\n    } else {\n      setQuantity(quantity + 1);\n    }\n\n    if (quantity == selectedProduct.quantita) {\n      setCustomText({\n        status: 'custom',\n        id: 'Stock Error',\n        msg: 'Disponibilità massima'\n      });\n    }\n\n    setTimeout(function () {\n      setCustomText();\n    }, 2000);\n  };\n\n  var renderLeftComponent = function renderLeftComponent() {\n    return React.createElement(View, {\n      style: styles.iconContainer,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, React.createElement(AntDesign, {\n      name: \"arrowleft\",\n      size: 28,\n      color: \"#fffffe\",\n      onPress: function onPress() {\n        return navigation.popToTop();\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  var renderRightComponent = function renderRightComponent() {\n    return React.createElement(View, {\n      style: styles.iconContainerShopping,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, React.createElement(SimpleLineIcons, {\n      name: \"handbag\",\n      size: 30,\n      color: \"black\",\n      onPress: function onPress() {\n        return navigation.navigate('Cart');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }), React.createElement(Badge, {\n      containerStyle: {\n        position: 'absolute',\n        top: -4,\n        right: -4\n      },\n      badgeStyle: {\n        backgroundColor: '#fa5246'\n      },\n      value: badgeCount,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  return React.createElement(KeyboardAvoidingView, {\n    style: styles.screen,\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    onPress: function onPress() {\n      Keyboard.dismiss();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }\n  }, React.createElement(Header, {\n    backgroundImage: {\n      uri: selectedProduct.immagine\n    },\n    statusBarProps: {\n      barStyle: 'light-content'\n    },\n    leftComponent: renderLeftComponent,\n    leftContainerStyle: {\n      alignItems: 'center',\n      alignSelf: 'flex-start'\n    },\n    rightComponent: renderRightComponent,\n    rightContainerStyle: {\n      alignItems: 'center',\n      alignSelf: 'flex-end'\n    },\n    backgroundColor: \"#3D6DCC\",\n    containerStyle: {\n      flex: 0.7,\n      alignItems: 'flex-start'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }), customText && React.createElement(ErrorModal, {\n    payload: customText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 22\n    }\n  }), React.createElement(View, {\n    style: styles.descriptionContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      padding: 20\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      justifyContent: 'space-between',\n      flexDirection: 'row'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: styles.heading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, selectedProduct.titolo), React.createElement(View, {\n    style: styles.quantityContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }\n  }, React.createElement(AntDesign, {\n    name: \"minus\",\n    size: 20,\n    color: \"white\",\n    style: styles.input,\n    onPress: function onPress() {\n      return validateQuantity('meno');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }), React.createElement(Text, {\n    style: {\n      color: 'black'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, quantity), React.createElement(AntDesign, {\n    name: \"plus\",\n    size: 20,\n    color: \"white\",\n    style: styles.input,\n    onPress: function onPress() {\n      return validateQuantity('piu');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }))), React.createElement(Text, {\n    style: {\n      fontSize: 20,\n      color: '#5f6c7b',\n      fontFamily: 'Inter_600SemiBold',\n      marginTop: 5\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }, selectedProduct.prezzo * quantity, \" \\u20AC\"), React.createElement(Text, {\n    style: {\n      color: '#251F45',\n      fontFamily: 'Inter_600SemiBold',\n      marginTop: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 11\n    }\n  }, \"DESCRIZIONE\"), React.createElement(Text, {\n    style: styles.text,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 11\n    }\n  }, selectedProduct.descrizione), selectedProduct.formato === 'SCATOLA' && React.createElement(BoxDetails, {\n    selectedProduct: selectedProduct,\n    boxLayout: boxLayout,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }\n  })), React.createElement(View, {\n    style: styles.buttonContainer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }\n  }, isFavourite ? React.createElement(Pressable, {\n    style: {\n      padding: 7,\n      alignItems: 'center'\n    },\n    onPress: function onPress() {\n      return addTofavourite(email, selectedProduct, 1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }\n  }, React.createElement(Heart, {\n    color: \"#fa5246\",\n    secondColor: \"#fa5246\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 15\n    }\n  })) : React.createElement(Pressable, {\n    style: {\n      alignSelf: 'flex-end',\n      padding: 10,\n      backgroundColor: '#f2f7f5',\n      borderRadius: 20\n    },\n    onPress: function onPress() {\n      return addTofavourite(email, selectedProduct, 0);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }\n  }, React.createElement(Heart, {\n    color: \"#00214d\",\n    secondColor: \"none\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 15\n    }\n  })), React.createElement(Pressable, {\n    style: styles.button,\n    onPress: function onPress() {\n      return onAddTocart();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 11\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 16,\n      color: 'white',\n      textAlign: 'center',\n      fontFamily: 'Inter_400Regular'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 13\n    }\n  }, \"Aggiungi al Carrello\")))), React.createElement(CustomModal, {\n    showModal: showModal,\n    text: \"Prodotto aggiunto!\",\n    theme: \"rgba(44, 182, 125, 1)\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }\n  }), React.createElement(StatusBar, {\n    style: \"light\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  screen: {\n    flex: 1\n  },\n  descriptionContainer: {\n    overflow: 'hidden',\n    paddingBottom: 0,\n    flex: 1,\n    justifyContent: 'space-between',\n    backgroundColor: '#f2f7f5'\n  },\n  heading: {\n    fontFamily: 'Inter_600SemiBold',\n    fontSize: 23,\n    color: '#00214d'\n  },\n  buttonContainer: {\n    alignItems: 'center',\n    alignSelf: 'flex-end',\n    width: '100%',\n    flexDirection: 'row',\n    backgroundColor: '#00214d',\n    paddingHorizontal: 20,\n    paddingVertical: 20,\n    borderTopLeftRadius: 15,\n    borderTopRightRadius: 15,\n    borderTopStartRadius: 30,\n    borderTopEndRadius: 30\n  },\n  input: {\n    paddingTop: 3.5,\n    backgroundColor: '#fa5246',\n    borderRadius: 15,\n    width: 30,\n    height: 30,\n    textAlign: 'center',\n    marginHorizontal: 5\n  },\n  text: {\n    color: '#094067',\n    fontFamily: 'Inter_400Regular',\n    lineHeight: 30,\n    marginTop: 5\n  },\n  iconContainer: {\n    padding: 5,\n    backgroundColor: '#00214d',\n    borderRadius: 20\n  },\n  iconContainerShopping: {\n    padding: 10,\n    backgroundColor: 'white',\n    borderRadius: 20\n  },\n  button: {\n    padding: 10,\n    backgroundColor: '#fa5246',\n    borderRadius: 20,\n    width: '80%',\n    marginLeft: 10\n  },\n  quantityContainer: {\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    flexDirection: 'row',\n    width: '25%'\n  }\n});\nexport default ProductDetails2;","map":{"version":3,"sources":["C:/Users/Alfredo/Desktop/front-end utils/progetti/SiciliaNaturalmenteApp/screens/DetailsScreen2.js"],"names":["React","useState","Header","AntDesign","Heart","useDispatch","useSelector","cartActions","userActions","SimpleLineIcons","globalStyles","CustomModal","PastaDetails","BoxDetails","images","StatusBar","ErrorModal","Badge","Icon","withBadge","ProductDetails2","route","navigation","selectedProduct","isFavourite","products","state","availableProducts","isAuth","user","isAuthenticated","favourites","favoriti","email","console","log","productId","params","dispatch","quantity","setQuantity","customText","setCustomText","showModal","setShowModal","badgeCount","cart","totalQuantity","find","product","idProdotto","itemId","filter","titolo","length","boxLayout","formato","contenuto","map","prod","i","addTofavourite","title","isDelete","Alert","alert","text","onPress","navigate","style","updateFavourite","itsHealthy","grano","onAddTocart","addToCart","setTimeout","validateQuantity","type","status","id","msg","quantita","renderLeftComponent","styles","iconContainer","popToTop","renderRightComponent","iconContainerShopping","position","top","right","backgroundColor","screen","Platform","OS","Keyboard","dismiss","uri","immagine","barStyle","alignItems","alignSelf","flex","descriptionContainer","padding","justifyContent","flexDirection","heading","quantityContainer","input","color","fontSize","fontFamily","marginTop","prezzo","descrizione","buttonContainer","borderRadius","button","textAlign","StyleSheet","create","overflow","paddingBottom","width","paddingHorizontal","paddingVertical","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopEndRadius","paddingTop","height","marginHorizontal","lineHeight","marginLeft"],"mappings":";;;;;;AAKA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;;;;;;;;;;AAaA,SAASC,MAAT,QAAuB,uBAAvB;AACA,SAASC,SAAT,QAA0B,oBAA1B;AACA,OAAOC,KAAP;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,OAAO,KAAKC,WAAZ;AACA,OAAO,KAAKC,WAAZ;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,OAAOC,YAAP;AACA,OAAOC,WAAP;AACA,OAAOC,YAAP;AACA,OAAOC,UAAP;AACA,SAASC,MAAT;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,OAAOC,UAAP;AACA,SAASC,KAAT,EAAgBC,IAAhB,EAAsBC,SAAtB,QAAuC,uBAAvC;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAA2B;AAAA;;AAAA,MAAxBC,KAAwB,QAAxBA,KAAwB;AAAA,MAAjBC,UAAiB,QAAjBA,UAAiB;AACjD,MAAIC,eAAe,GAAG,EAAtB;AACA,MAAIC,WAAW,GAAG,KAAlB;AAEA,MAAMC,QAAQ,GAAGnB,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACD,QAAN,CAAeE,iBAA1B;AAAA,GAAD,CAA5B;AAEA,MAAMC,MAAM,GAAGtB,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACG,IAAN,CAAWC,eAAtB;AAAA,GAAD,CAA1B;AAEA,MAAMC,UAAU,GAAGzB,WAAW,CAAC,UAACoB,KAAD;AAAA;;AAAA,0BAAWA,KAAK,CAACG,IAAjB,yCAAW,YAAYA,IAAvB,qBAAW,iBAAkBG,QAA7B;AAAA,GAAD,CAA9B;AAEA,MAAMC,KAAK,GAAG3B,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACG,IAAN,CAAWA,IAAtB;AAAA,GAAD,CAAzB;AAEAK,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAAmB,KAAnB;AAEA,MAAMG,SAAS,GAAGf,KAAK,CAACgB,MAAxB;AACA,MAAMC,QAAQ,GAAGjC,WAAW,EAA5B;;AAEA,kBAAgCJ,QAAQ,CAAC,CAAD,CAAxC;AAAA;AAAA,MAAOsC,QAAP;AAAA,MAAiBC,WAAjB;;AAEA,mBAAoCvC,QAAQ,EAA5C;AAAA;AAAA,MAAOwC,UAAP;AAAA,MAAmBC,aAAnB;;AAEA,mBAAkCzC,QAAQ,CAAC,KAAD,CAA1C;AAAA;AAAA,MAAO0C,SAAP;AAAA,MAAkBC,YAAlB;;AAGA,MAAMC,UAAU,GAAGvC,WAAW,CAAC,UAACoB,KAAD;AAAA,WAAWA,KAAK,CAACoB,IAAN,CAAWC,aAAtB;AAAA,GAAD,CAA9B;;AAGA,MAAItB,QAAJ,EAAc;AACZF,IAAAA,eAAe,GAAGE,QAAQ,CAACuB,IAAT,CAChB,UAACC,OAAD;AAAA,aAAaA,OAAO,CAACC,UAAR,KAAuBd,SAAS,CAACe,MAA9C;AAAA,KADgB,CAAlB;AAGD;;AAED,MAAI1B,QAAQ,IAAIG,MAAZ,IAAsBG,UAA1B,EAAsC;AAGpCP,IAAAA,WAAW,GACTO,UAAU,CAACqB,MAAX,CAAkB,UAACH,OAAD;AAAA,aAAaA,OAAO,CAACI,MAAR,KAAmB9B,eAAe,CAAC8B,MAAhD;AAAA,KAAlB,EACGC,MADH,GACY,CAFd;AAGD;;AAED,MAAIC,SAAS,GAAG,IAAhB;;AAEA,MAAI,qBAAAhC,eAAe,SAAf,6BAAiBiC,OAAjB,MAA6B,SAAjC,EAA4C;AAE1CD,IAAAA,SAAS,GAAGhC,eAAe,CAACkC,SAAhB,CAA0BC,GAA1B,CAA8B,UAACC,IAAD,EAAOC,CAAP;AAAA,aACxC1B,OAAO,CAACC,GAAR,CAAYwB,IAAZ,EAAkB,SAAlB,CADwC;AAAA,KAA9B,CAAZ;AAGD;;AAED,MAAME,cAAc,GAAG,SAAjBA,cAAiB,CAAO5B,KAAP,EAAc6B,KAAd,EAAqBC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA,gBAChBnC,MADgB;AAAA;AAAA;AAAA;;AAAA,6CAEZoC,KAAK,CAACC,KAAN,CACL,0BADK,EAEL,mDAFK,EAGL,CACE;AACEC,cAAAA,IAAI,EAAE,IADR;AAEEC,cAAAA,OAAO,EAAE;AAAA,uBAAM7C,UAAU,CAAC8C,QAAX,CAAoB,SAApB,CAAN;AAAA,eAFX;AAGEC,cAAAA,KAAK,EAAE;AAHT,aADF,CAHK,CAFY;;AAAA;AAAA;AAAA,6CAcf/B,QAAQ,CAAC9B,WAAW,CAAC8D,eAAZ,CAA4BrC,KAA5B,EAAmC6B,KAAnC,EAA0CC,QAA1C,CAAD,CAdO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAvB;;AAkBA,MAAIQ,UAAU,GAAG,KAAjB;AACAhD,EAAAA,eAAe,CAACiC,OAAhB,KAA4B,UAA5B,KACGe,UAAU,GAAGhD,eAAe,CAACiD,KAAhB,KAA0B,cAA1B,GAA2C,IAA3C,GAAkD,KADlE;;AAIA,MAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AAGxB7B,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAN,IAAAA,QAAQ,CAAC/B,WAAW,CAACmE,SAAZ,CAAsBnD,eAAtB,EAAuCgB,QAAvC,CAAD,CAAR;AACAoC,IAAAA,UAAU,CAAC;AAAA,aAAM/B,YAAY,CAAC,KAAD,CAAlB;AAAA,KAAD,EAA4B,IAA5B,CAAV;AACD,GAND;;AASA,MAAMgC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,IAAD,EAAU;AACjC,QAAItC,QAAQ,KAAK,CAAb,IAAkBsC,IAAI,KAAK,MAA/B,EAAuC;AACrCnC,MAAAA,aAAa,CAAC;AACZoC,QAAAA,MAAM,EAAE,QADI;AAEZC,QAAAA,EAAE,EAAE,gBAFQ;AAGZC,QAAAA,GAAG,EAAE;AAHO,OAAD,CAAb;AAKD,KAND,MAMO,IACJH,IAAI,KAAK,MAAT,IAAmBtC,QAAQ,IAAI,CAAhC,IACAA,QAAQ,IAAIhB,eAAe,CAAC0D,QAFvB,EAGL;AACAzC,MAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACD,KALM,MAKA;AACLC,MAAAA,WAAW,CAACD,QAAQ,GAAG,CAAZ,CAAX;AACD;;AACD,QAAIA,QAAQ,IAAIhB,eAAe,CAAC0D,QAAhC,EAA0C;AACxCvC,MAAAA,aAAa,CAAC;AACZoC,QAAAA,MAAM,EAAE,QADI;AAEZC,QAAAA,EAAE,EAAE,aAFQ;AAGZC,QAAAA,GAAG,EAAE;AAHO,OAAD,CAAb;AAKD;;AACDL,IAAAA,UAAU,CAAC,YAAM;AACfjC,MAAAA,aAAa;AACd,KAFS,EAEP,IAFO,CAAV;AAGD,GAzBD;;AA4BA,MAAMwC,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;AAChC,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,aAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,SAAD;AACE,MAAA,IAAI,EAAC,WADP;AAEE,MAAA,IAAI,EAAE,EAFR;AAGE,MAAA,KAAK,EAAC,SAHR;AAIE,MAAA,OAAO,EAAE;AAAA,eAAM9D,UAAU,CAAC+D,QAAX,EAAN;AAAA,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAUD,GAXD;;AAcA,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjC,WACE,oBAAC,IAAD;AAAM,MAAA,KAAK,EAAEH,MAAM,CAACI,qBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,eAAD;AACE,MAAA,IAAI,EAAC,SADP;AAEE,MAAA,IAAI,EAAE,EAFR;AAGE,MAAA,KAAK,EAAC,OAHR;AAIE,MAAA,OAAO,EAAE;AAAA,eAAMjE,UAAU,CAAC8C,QAAX,CAAoB,MAApB,CAAN;AAAA,OAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAOE,oBAAC,KAAD;AACE,MAAA,cAAc,EAAE;AAAEoB,QAAAA,QAAQ,EAAE,UAAZ;AAAwBC,QAAAA,GAAG,EAAE,CAAC,CAA9B;AAAiCC,QAAAA,KAAK,EAAE,CAAC;AAAzC,OADlB;AAEE,MAAA,UAAU,EAAE;AAAEC,QAAAA,eAAe,EAAE;AAAnB,OAFd;AAGE,MAAA,KAAK,EAAE9C,UAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF;AAeD,GAhBD;;AAkBA,SACE,oBAAC,oBAAD;AACE,IAAA,KAAK,EAAEsC,MAAM,CAACS,MADhB;AAEE,IAAA,QAAQ,EAAEC,QAAQ,CAACC,EAAT,KAAgB,KAAhB,GAAwB,SAAxB,GAAoC,QAFhD;AAGE,IAAA,OAAO,EAAE,mBAAM;AACbC,MAAAA,QAAQ,CAACC,OAAT;AACD,KALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,MAAD;AACE,IAAA,eAAe,EAAE;AACfC,MAAAA,GAAG,EAAE1E,eAAe,CAAC2E;AADN,KADnB;AAIE,IAAA,cAAc,EAAE;AAAEC,MAAAA,QAAQ,EAAE;AAAZ,KAJlB;AAKE,IAAA,aAAa,EAAEjB,mBALjB;AAME,IAAA,kBAAkB,EAAE;AAClBkB,MAAAA,UAAU,EAAE,QADM;AAGlBC,MAAAA,SAAS,EAAE;AAHO,KANtB;AAWE,IAAA,cAAc,EAAEf,oBAXlB;AAYE,IAAA,mBAAmB,EAAE;AACnBc,MAAAA,UAAU,EAAE,QADO;AAGnBC,MAAAA,SAAS,EAAE;AAHQ,KAZvB;AAiBE,IAAA,eAAe,EAAC,SAjBlB;AAkBE,IAAA,cAAc,EAAE;AAAEC,MAAAA,IAAI,EAAE,GAAR;AAAaF,MAAAA,UAAU,EAAE;AAAzB,KAlBlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EA4BG3D,UAAU,IAAI,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEA,UAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA5BjB,EA6BE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE0C,MAAM,CAACoB,oBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AAAEC,MAAAA,cAAc,EAAE,eAAlB;AAAmCC,MAAAA,aAAa,EAAE;AAAlD,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEvB,MAAM,CAACwB,OAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA8BpF,eAAe,CAAC8B,MAA9C,CAHF,EAIE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE8B,MAAM,CAACyB,iBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,IAAI,EAAE,EAFR;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAEzB,MAAM,CAAC0B,KAJhB;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMjC,gBAAgB,CAAC,MAAD,CAAtB;AAAA,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAQE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE;AAAEkC,MAAAA,KAAK,EAAE;AAAT,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAkCvE,QAAlC,CARF,EASE,oBAAC,SAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAE,EAFR;AAGE,IAAA,KAAK,EAAC,OAHR;AAIE,IAAA,KAAK,EAAE4C,MAAM,CAAC0B,KAJhB;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMjC,gBAAgB,CAAC,KAAD,CAAtB;AAAA,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAJF,CAFF,EAwBE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLmC,MAAAA,QAAQ,EAAE,EADL;AAELD,MAAAA,KAAK,EAAE,SAFF;AAGLE,MAAAA,UAAU,EAAE,mBAHP;AAILC,MAAAA,SAAS,EAAE;AAJN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAQG1F,eAAe,CAAC2F,MAAhB,GAAyB3E,QAR5B,YAxBF,EAkCE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLuE,MAAAA,KAAK,EAAE,SADF;AAELE,MAAAA,UAAU,EAAE,mBAFP;AAGLC,MAAAA,SAAS,EAAE;AAHN,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAlCF,EA2CE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE9B,MAAM,CAACjB,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA2B3C,eAAe,CAAC4F,WAA3C,CA3CF,EA4CG5F,eAAe,CAACiC,OAAhB,KAA4B,SAA5B,IACC,oBAAC,UAAD;AACE,IAAA,eAAe,EAAEjC,eADnB;AAEE,IAAA,SAAS,EAAEgC,SAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA7CJ,CADF,EAqDE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE4B,MAAM,CAACiC,eAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG5F,WAAW,GACV,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AACLgF,MAAAA,OAAO,EAAE,CADJ;AAELJ,MAAAA,UAAU,EAAE;AAFP,KADT;AAKE,IAAA,OAAO,EAAE;AAAA,aAAMvC,cAAc,CAAC5B,KAAD,EAAQV,eAAR,EAAyB,CAAzB,CAApB;AAAA,KALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,SAAb;AAAuB,IAAA,WAAW,EAAC,SAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CADU,GAWV,oBAAC,SAAD;AACE,IAAA,KAAK,EAAE;AACL8E,MAAAA,SAAS,EAAE,UADN;AAELG,MAAAA,OAAO,EAAE,EAFJ;AAGLb,MAAAA,eAAe,EAAE,SAHZ;AAIL0B,MAAAA,YAAY,EAAE;AAJT,KADT;AAOE,IAAA,OAAO,EAAE;AAAA,aAAMxD,cAAc,CAAC5B,KAAD,EAAQV,eAAR,EAAyB,CAAzB,CAApB;AAAA,KAPX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KASE,oBAAC,KAAD;AAAO,IAAA,KAAK,EAAC,SAAb;AAAuB,IAAA,WAAW,EAAC,MAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,CAZJ,EAwBE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAE4D,MAAM,CAACmC,MAAzB;AAAiC,IAAA,OAAO,EAAE;AAAA,aAAM7C,WAAW,EAAjB;AAAA,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLsC,MAAAA,QAAQ,EAAE,EADL;AAELD,MAAAA,KAAK,EAAE,OAFF;AAGLS,MAAAA,SAAS,EAAE,QAHN;AAILP,MAAAA,UAAU,EAAE;AAJP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,CAxBF,CArDF,CA7BF,EAwHE,oBAAC,WAAD;AACE,IAAA,SAAS,EAAErE,SADb;AAEE,IAAA,IAAI,EAAC,oBAFP;AAGE,IAAA,KAAK,EAAC,uBAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxHF,EA8HE,oBAAC,SAAD;AAAW,IAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA9HF,CADF;AAkID,CAhRD;;AAkRA,IAAMwC,MAAM,GAAGqC,UAAU,CAACC,MAAX,CAAkB;AAC/B7B,EAAAA,MAAM,EAAE;AACNU,IAAAA,IAAI,EAAE;AADA,GADuB;AAK/BC,EAAAA,oBAAoB,EAAE;AACpBmB,IAAAA,QAAQ,EAAE,QADU;AAEpBC,IAAAA,aAAa,EAAE,CAFK;AAGpBrB,IAAAA,IAAI,EAAE,CAHc;AAIpBG,IAAAA,cAAc,EAAE,eAJI;AAKpBd,IAAAA,eAAe,EAAE;AALG,GALS;AAY/BgB,EAAAA,OAAO,EAAE;AACPK,IAAAA,UAAU,EAAE,mBADL;AAEPD,IAAAA,QAAQ,EAAE,EAFH;AAGPD,IAAAA,KAAK,EAAE;AAHA,GAZsB;AAiB/BM,EAAAA,eAAe,EAAE;AACfhB,IAAAA,UAAU,EAAE,QADG;AAEfC,IAAAA,SAAS,EAAE,UAFI;AAGfuB,IAAAA,KAAK,EAAE,MAHQ;AAIflB,IAAAA,aAAa,EAAE,KAJA;AAKff,IAAAA,eAAe,EAAE,SALF;AAMfkC,IAAAA,iBAAiB,EAAE,EANJ;AAOfC,IAAAA,eAAe,EAAE,EAPF;AAQfC,IAAAA,mBAAmB,EAAE,EARN;AASfC,IAAAA,oBAAoB,EAAE,EATP;AAUfC,IAAAA,oBAAoB,EAAE,EAVP;AAWfC,IAAAA,kBAAkB,EAAE;AAXL,GAjBc;AA+B/BrB,EAAAA,KAAK,EAAE;AACLsB,IAAAA,UAAU,EAAE,GADP;AAELxC,IAAAA,eAAe,EAAE,SAFZ;AAGL0B,IAAAA,YAAY,EAAE,EAHT;AAILO,IAAAA,KAAK,EAAE,EAJF;AAKLQ,IAAAA,MAAM,EAAE,EALH;AAMLb,IAAAA,SAAS,EAAE,QANN;AAOLc,IAAAA,gBAAgB,EAAE;AAPb,GA/BwB;AAwC/BnE,EAAAA,IAAI,EAAE;AACJ4C,IAAAA,KAAK,EAAE,SADH;AAEJE,IAAAA,UAAU,EAAE,kBAFR;AAGJsB,IAAAA,UAAU,EAAE,EAHR;AAIJrB,IAAAA,SAAS,EAAE;AAJP,GAxCyB;AA8C/B7B,EAAAA,aAAa,EAAE;AACboB,IAAAA,OAAO,EAAE,CADI;AAEbb,IAAAA,eAAe,EAAE,SAFJ;AAGb0B,IAAAA,YAAY,EAAE;AAHD,GA9CgB;AAmD/B9B,EAAAA,qBAAqB,EAAE;AACrBiB,IAAAA,OAAO,EAAE,EADY;AAErBb,IAAAA,eAAe,EAAE,OAFI;AAGrB0B,IAAAA,YAAY,EAAE;AAHO,GAnDQ;AAwD/BC,EAAAA,MAAM,EAAE;AACNd,IAAAA,OAAO,EAAE,EADH;AAENb,IAAAA,eAAe,EAAE,SAFX;AAGN0B,IAAAA,YAAY,EAAE,EAHR;AAINO,IAAAA,KAAK,EAAE,KAJD;AAKNW,IAAAA,UAAU,EAAE;AALN,GAxDuB;AA+D/B3B,EAAAA,iBAAiB,EAAE;AACjBH,IAAAA,cAAc,EAAE,eADC;AAEjBL,IAAAA,UAAU,EAAE,QAFK;AAGjBM,IAAAA,aAAa,EAAE,KAHE;AAIjBkB,IAAAA,KAAK,EAAE;AAJU;AA/DY,CAAlB,CAAf;AAuEA,eAAexG,eAAf","sourcesContent":["// * Pasta details screen\r\n// ? what should it do\r\n// * View the selected product, add it to the cart with arbitrary q.ty\r\n// * Add it or delete it to favourite list if user is logged\r\n\r\nimport React, { useState } from 'react'\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Image,\r\n  TextInput,\r\n  KeyboardAvoidingView,\r\n  Keyboard,\r\n  ScrollView,\r\n  Alert,\r\n  Pressable,\r\n} from 'react-native'\r\nimport { Header } from 'react-native-elements'\r\nimport { AntDesign } from '@expo/vector-icons'\r\nimport Heart from '../assets/heart'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport * as cartActions from '../store/actions/cart'\r\nimport * as userActions from '../store/actions/user'\r\nimport { SimpleLineIcons } from '@expo/vector-icons'\r\nimport globalStyles from '../Style'\r\nimport CustomModal from '../components/CustomModal'\r\nimport PastaDetails from '../components/Pasta/PastaDetails'\r\nimport BoxDetails from '../components/Box/BoxDetails'\r\nimport { images } from '../data/dummy-data'\r\nimport { StatusBar } from 'expo-status-bar'\r\nimport ErrorModal from '../components/authComponents/ErrorModal'\r\nimport { Badge, Icon, withBadge } from 'react-native-elements'\r\n\r\nconst ProductDetails2 = ({ route, navigation }) => {\r\n  let selectedProduct = {}\r\n  let isFavourite = false\r\n\r\n  const products = useSelector((state) => state.products.availableProducts)\r\n\r\n  const isAuth = useSelector((state) => state.user.isAuthenticated)\r\n\r\n  const favourites = useSelector((state) => state.user?.user?.favoriti)\r\n\r\n  const email = useSelector((state) => state.user.user)\r\n\r\n  console.log(email, ' OK')\r\n\r\n  const productId = route.params\r\n  const dispatch = useDispatch()\r\n\r\n  const [quantity, setQuantity] = useState(1)\r\n\r\n  const [customText, setCustomText] = useState()\r\n\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  //count for the cart\r\n  const badgeCount = useSelector((state) => state.cart.totalQuantity)\r\n\r\n  //cerca il prodotto esatto\r\n  if (products) {\r\n    selectedProduct = products.find(\r\n      (product) => product.idProdotto === productId.itemId,\r\n    )\r\n  }\r\n\r\n  if (products && isAuth && favourites) {\r\n    /* logic for the favourite */\r\n    // search if this product is user's favourite\r\n    isFavourite =\r\n      favourites.filter((product) => product.titolo === selectedProduct.titolo)\r\n        .length > 0\r\n  }\r\n\r\n  let boxLayout = null\r\n  //if the category is a box change the layout (again)\r\n  if (selectedProduct?.formato === 'SCATOLA') {\r\n    //I have to find first the products based on the id\r\n    boxLayout = selectedProduct.contenuto.map((prod, i) =>\r\n      console.log(prod, ' in map'),\r\n    )\r\n  }\r\n\r\n  const addTofavourite = async (email, title, isDelete) => {\r\n    if (!isAuth) {\r\n      return Alert.alert(\r\n        'Funzione non accessibile',\r\n        'Devi autenticarti per accedere a questa funzione!',\r\n        [\r\n          {\r\n            text: 'OK',\r\n            onPress: () => navigation.navigate('Account'),\r\n            style: 'cancel',\r\n          },\r\n        ],\r\n      )\r\n    }\r\n    await dispatch(userActions.updateFavourite(email, title, isDelete))\r\n  }\r\n  /* end of the favourite logic */\r\n\r\n  let itsHealthy = false\r\n  selectedProduct.formato !== 'PRODOTTI' &&\r\n    (itsHealthy = selectedProduct.grano === 'Perciasacchi' ? true : false)\r\n\r\n  //redux dispatch\r\n  const onAddTocart = () => {\r\n    //validate again user input\r\n\r\n    setShowModal(true)\r\n    dispatch(cartActions.addToCart(selectedProduct, quantity))\r\n    setTimeout(() => setShowModal(false), 2000)\r\n  }\r\n\r\n  //validate quantity chocen\r\n  const validateQuantity = (type) => {\r\n    if (quantity === 1 && type === 'meno') {\r\n      setCustomText({\r\n        status: 'custom',\r\n        id: 'Non consentito',\r\n        msg: 'just no',\r\n      })\r\n    } else if (\r\n      (type === 'meno' && quantity >= 1) ||\r\n      quantity == selectedProduct.quantita\r\n    ) {\r\n      setQuantity(quantity - 1)\r\n    } else {\r\n      setQuantity(quantity + 1)\r\n    }\r\n    if (quantity == selectedProduct.quantita) {\r\n      setCustomText({\r\n        status: 'custom',\r\n        id: 'Stock Error',\r\n        msg: 'Disponibilità massima',\r\n      })\r\n    }\r\n    setTimeout(() => {\r\n      setCustomText()\r\n    }, 2000)\r\n  }\r\n\r\n  //render the arrow key\r\n  const renderLeftComponent = () => {\r\n    return (\r\n      <View style={styles.iconContainer}>\r\n        <AntDesign\r\n          name=\"arrowleft\"\r\n          size={28}\r\n          color=\"#fffffe\"\r\n          onPress={() => navigation.popToTop()}\r\n        />\r\n      </View>\r\n    )\r\n  }\r\n\r\n  //render the cart icon\r\n  const renderRightComponent = () => {\r\n    return (\r\n      <View style={styles.iconContainerShopping}>\r\n        <SimpleLineIcons\r\n          name=\"handbag\"\r\n          size={30}\r\n          color=\"black\"\r\n          onPress={() => navigation.navigate('Cart')}\r\n        />\r\n        <Badge\r\n          containerStyle={{ position: 'absolute', top: -4, right: -4 }}\r\n          badgeStyle={{ backgroundColor: '#fa5246' }}\r\n          value={badgeCount}\r\n        />\r\n      </View>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <KeyboardAvoidingView\r\n      style={styles.screen}\r\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\r\n      onPress={() => {\r\n        Keyboard.dismiss()\r\n      }}\r\n    >\r\n      <Header\r\n        backgroundImage={{\r\n          uri: selectedProduct.immagine,\r\n        }}\r\n        statusBarProps={{ barStyle: 'light-content' }}\r\n        leftComponent={renderLeftComponent}\r\n        leftContainerStyle={{\r\n          alignItems: 'center',\r\n\r\n          alignSelf: 'flex-start',\r\n        }}\r\n        rightComponent={renderRightComponent}\r\n        rightContainerStyle={{\r\n          alignItems: 'center',\r\n\r\n          alignSelf: 'flex-end',\r\n        }}\r\n        backgroundColor=\"#3D6DCC\"\r\n        containerStyle={{ flex: 0.7, alignItems: 'flex-start' }}\r\n      />\r\n\r\n      {customText && <ErrorModal payload={customText} />}\r\n      <View style={styles.descriptionContainer}>\r\n        <View style={{ padding: 20 }}>\r\n          {/* Heading View */}\r\n          <View\r\n            style={{ justifyContent: 'space-between', flexDirection: 'row' }}\r\n          >\r\n            <Text style={styles.heading}>{selectedProduct.titolo}</Text>\r\n            <View style={styles.quantityContainer}>\r\n              <AntDesign\r\n                name=\"minus\"\r\n                size={20}\r\n                color=\"white\"\r\n                style={styles.input}\r\n                onPress={() => validateQuantity('meno')}\r\n              />\r\n              <Text style={{ color: 'black' }}>{quantity}</Text>\r\n              <AntDesign\r\n                name=\"plus\"\r\n                size={20}\r\n                color=\"white\"\r\n                style={styles.input}\r\n                onPress={() => validateQuantity('piu')}\r\n              />\r\n            </View>\r\n          </View>\r\n          <Text\r\n            style={{\r\n              fontSize: 20,\r\n              color: '#5f6c7b',\r\n              fontFamily: 'Inter_600SemiBold',\r\n              marginTop: 5,\r\n            }}\r\n          >\r\n            {selectedProduct.prezzo * quantity} €\r\n          </Text>\r\n          <Text\r\n            style={{\r\n              color: '#251F45',\r\n              fontFamily: 'Inter_600SemiBold',\r\n              marginTop: 30,\r\n            }}\r\n          >\r\n            DESCRIZIONE\r\n          </Text>\r\n          <Text style={styles.text}>{selectedProduct.descrizione}</Text>\r\n          {selectedProduct.formato === 'SCATOLA' && (\r\n            <BoxDetails\r\n              selectedProduct={selectedProduct}\r\n              boxLayout={boxLayout}\r\n            />\r\n          )}\r\n        </View>\r\n        {/*Start Button Container Component  */}\r\n        <View style={styles.buttonContainer}>\r\n          {isFavourite ? (\r\n            <Pressable\r\n              style={{\r\n                padding: 7,\r\n                alignItems: 'center',\r\n              }}\r\n              onPress={() => addTofavourite(email, selectedProduct, 1)}\r\n            >\r\n              <Heart color=\"#fa5246\" secondColor=\"#fa5246\" />\r\n            </Pressable>\r\n          ) : (\r\n            <Pressable\r\n              style={{\r\n                alignSelf: 'flex-end',\r\n                padding: 10,\r\n                backgroundColor: '#f2f7f5',\r\n                borderRadius: 20,\r\n              }}\r\n              onPress={() => addTofavourite(email, selectedProduct, 0)}\r\n            >\r\n              <Heart color=\"#00214d\" secondColor=\"none\" />\r\n            </Pressable>\r\n          )}\r\n          <Pressable style={styles.button} onPress={() => onAddTocart()}>\r\n            <Text\r\n              style={{\r\n                fontSize: 16,\r\n                color: 'white',\r\n                textAlign: 'center',\r\n                fontFamily: 'Inter_400Regular',\r\n              }}\r\n            >\r\n              Aggiungi al Carrello\r\n            </Text>\r\n          </Pressable>\r\n        </View>\r\n      </View>\r\n      <CustomModal\r\n        showModal={showModal}\r\n        text=\"Prodotto aggiunto!\"\r\n        theme=\"rgba(44, 182, 125, 1)\"\r\n      />\r\n\r\n      <StatusBar style=\"light\" />\r\n    </KeyboardAvoidingView>\r\n  )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  screen: {\r\n    flex: 1,\r\n  },\r\n\r\n  descriptionContainer: {\r\n    overflow: 'hidden',\r\n    paddingBottom: 0,\r\n    flex: 1,\r\n    justifyContent: 'space-between',\r\n    backgroundColor: '#f2f7f5',\r\n  },\r\n  heading: {\r\n    fontFamily: 'Inter_600SemiBold',\r\n    fontSize: 23,\r\n    color: '#00214d',\r\n  },\r\n  buttonContainer: {\r\n    alignItems: 'center',\r\n    alignSelf: 'flex-end',\r\n    width: '100%',\r\n    flexDirection: 'row',\r\n    backgroundColor: '#00214d',\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 20,\r\n    borderTopLeftRadius: 15,\r\n    borderTopRightRadius: 15,\r\n    borderTopStartRadius: 30,\r\n    borderTopEndRadius: 30,\r\n  },\r\n\r\n  input: {\r\n    paddingTop: 3.5,\r\n    backgroundColor: '#fa5246',\r\n    borderRadius: 15,\r\n    width: 30,\r\n    height: 30,\r\n    textAlign: 'center',\r\n    marginHorizontal: 5,\r\n  },\r\n  text: {\r\n    color: '#094067',\r\n    fontFamily: 'Inter_400Regular',\r\n    lineHeight: 30,\r\n    marginTop: 5,\r\n  },\r\n  iconContainer: {\r\n    padding: 5,\r\n    backgroundColor: '#00214d',\r\n    borderRadius: 20,\r\n  },\r\n  iconContainerShopping: {\r\n    padding: 10,\r\n    backgroundColor: 'white',\r\n    borderRadius: 20,\r\n  },\r\n  button: {\r\n    padding: 10,\r\n    backgroundColor: '#fa5246',\r\n    borderRadius: 20,\r\n    width: '80%',\r\n    marginLeft: 10,\r\n  },\r\n  quantityContainer: {\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    flexDirection: 'row',\r\n    width: '25%',\r\n  },\r\n})\r\n\r\nexport default ProductDetails2\r\n"]},"metadata":{},"sourceType":"module"}